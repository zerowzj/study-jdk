# Java

# CGLIB
### 什么是CGLIB
````
CGLIB是一个功能强大，高性能的代码生成包。它为没有实现接口的类提供代理，为JDK的动态代理提供了很好的补充。
通常可以使用Java的动态代理创建代理，但当要代理的类没有实现接口或者为了更好的性能，CGLIB是一个好的选择。
````
### CGLIB原理
1. 原理
````
动态生成一个要代理类的子类，子类重写要代理的类的所有不是final的方法。
在子类中采用方法拦截的技术拦截所有父类方法的调用，顺势织入横切逻辑。它比使用java反射的JDK动态代理要快。
````
2. 底层
````
使用字节码处理框架ASM，来转换字节码并生成新的类。
````
3. 缺点
```
对于final方法，无法进行代理。
```

# Java动态代理与CGLIB动态代理区别
1. JDK动态代理是基于接口的方式，换句话来说就是代理类和目标类都实现同一个接口，那么代理类和目标类的方法名就一样了
2. CGLib动态代理是代理类去继承目标类，然后重写其中目标类的方法啊